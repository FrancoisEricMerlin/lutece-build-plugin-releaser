<section class="content-header">	<h1>		<a href="jsp/admin/plugins/releaser/ManageClusters.jsp" title="#i18n{releaser.adminFeature.ManageReleaser.name}">#i18n{releaser.adminFeature.ManageReleaser.name}</a>		<small class="hidden-xs hidden-sm">Release des composants</small>	</h1></section><section class="content">	<div class="app-wrapper">		<div class="row">			<div class="col-xs-12 col-sm-12 col-md-12">				<div class="info-box info-box-release components">                <span class="info-box-icon bg-yellow"><i class="fa fa-puzzle-piece"></i></span>                <div class="info-box-content">                    <span class="info-box-text pull-left" style="margin-right:30px; padding-top: 10px">Liste des composants</span>                      <form class="form-inline pull-left hidden-xs" style="padding-top: 5px" action="jsp/admin/plugins/releaser/ManageComponent.jsp" method="POST" name="" id="search" >                        <label for="search" class="sr-only">Rechercher un composant</label>                        <div class="input-group">                            <input type="text" class="form-control" placeholder="Nom du composant" name="search" id="search" value="${search!}">                            <span class="input-group-btn">                                <button class="btn btn-default btn-flat" type="submit" title="rechercher"><i class="fa fa-search "></i> </button>                            </span>                        </div>                    </form>                </div>            </div>            <ul class="list-group list-components fa-padding">            <#if list_component??>                <#list list_component as component>                <li class="list-group-item">                <div class="media">                      <div class="media-left">                      </div>                      <div class="media-body">                      <p>                        <span class="artifact up">                           ${component.name!} -  ${component.artifactId!}                                                  </span>                        <span id="release-result-${component.artifactId!}">                          <a class="button transition border-orange small btn-release" data-artifactid="${component.artifactId!}" title="Modifier la version pour la release" href='jsp/admin/plugins/releaser/ManageComponent.jsp?action=versionComponent&artifact_id=${component.artifactId!}' >                            <i class="fa fa-cog fa-fw"></i> Releaser le composant                          </a>                       </span>                        <a id="histo-${component.artifactId!}" class="button transition border-blue small btn-release-history"  title="Visuliser l'historique des releases" href='jsp/admin/plugins/releaser/ManageSiteRelease.jsp?view=releaseComponentHistory&artifact_id=${component.artifactId!}' target="_blank">                          <i class="fa fa-cog fa-fw"></i> Visualiser l'historique des releases                        </a>                          <span class="number pull-right">                            JIRA                            <a href="${component.jiraRoadmapUrl!}">                              <span class="label label-success">${component.jiraCurrentVersionClosedIssues}</span>                              <#if component.jiraCurrentVersionOpenedIssues = 0 >                                <span class="label label-success">${component.jiraCurrentVersionOpenedIssues}</span>                              <#else>                                <span class="label label-danger">${component.jiraCurrentVersionOpenedIssues}</span>                              </#if>                            </a>                          </span>                        </p>                        <div id="progress-wrapper-${component.artifactId!}" class="progress-wrapper clearfix">                          <div class="progress active pull-left ">                            <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 0%">                              <span class="sr-only">0% Complete</span>                            </div>                          </div>                          <div class="pull-left">                            <button href="#" data-toggle="modal"   data-artifactid="${component.artifactId!}" id="view_log_btn_${component.artifactId!}"  data-target="#modalLogs" data-context_release_id="" class="view_log_btn button transition small fill-whitish-black">                              Voir les logs                            </button>                          </div>                        </div>                                                   <div class="row">                              <div class="col-xs-12 col-sm-4">                                Version actuelle <strong class="button transition fill-lightblue small">${component.currentVersion!}</strong>                                 <i class="fa fa-arrow-right"></i> Version cible <strong class="button transition fill-lightblue small"> ${component.targetVersion!}</strong>                              </div>                              <div class="col-xs-12 col-sm-7">                                Prochaine Snapshot : <span class="button transition fill-lightblue small">${component.nextSnapshotVersion!}</span>                                    <a class="button transition border-lightblue small" title="Modifier la version pour la release" id="btn-upgrade-version-${component.artifactId!}" href='jsp/admin/plugins/releaser/ManageComponent.jsp?action=versionComponent&artifact_id=${component.artifactId!}'>                                    <i class="fa fa-level-up fa-fw"></i> Modifier la version pour la release                                  </a>                              </div>                            </div>                                              </div>                     </div>                 </li>                </#list>				</#if>  				</ul>			</div>		</div>	</div></section><#if paginator??>    <@paginationAdmin paginator=paginator /></#if>     <div class="modal fade" id="modalLogs" tabindex="-1" role="dialog" aria-labelledby="modalLogsLabel">  <div class="modal-dialog modal-lg" role="document">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>        <h4 class="modal-title" id="modalLogsLabel">Release - Logs</h4>      </div>      <div class="modal-body">        <pre id="console_wf_log"></pre>      </div>      <div class="modal-footer">        <button type="button" class="button transition small fill-whitish-black" data-dismiss="modal">Fermer</button>      </div>    </div>  </div></div><script src="js/plugins/releaser/notify.min.js" type="text/javascript"></script><script src="js/plugins/releaser/releaser.js" type="text/javascript"></script><script>var artifactIdInProgress;    $(function() {        $(".progress-wrapper").toggle();        $(".view_log_btn").click( function(e){            $("#console_wf_log").html(" ");            var artifactId=$(this).attr("data-artifactid");            var contextId=$(this).attr("context_release_id");            artifactIdInProgress=artifactId;            var progressId="#progress-wrapper-" + artifactId;            callReleaseInfo( contextId,progressId,artifactId)           }        );        $(".btn-release").click( function(e){             $("#console_wf_log").html(" ");             var artifactId=$(this).attr("data-artifactid");                          $("#btn-upgrade-version-"+artifactId).hide();          var progressId="#progress-wrapper-" + artifactId;        $( progressId ).toggle();             $.ajax({                    url: "jsp/admin/plugins/releaser/ReleaseComponentJson.jsp?action=releaseComponent&artifact_id="+$(this).attr("data-artifactid"),                    type: "GET",                    dataType : "json",                    success: function( data ) {                     if (data.status == 'OK') {                       callReleaseInfo(data.result,progressId,artifactId);                       $( "#view_log_btn_"+artifactId).attr("data-context_release_id",data.result);                      }                     else if ( data.status == 'ERROR'  )                     {                    }                   }            });            e.preventDefault();    });});</script>